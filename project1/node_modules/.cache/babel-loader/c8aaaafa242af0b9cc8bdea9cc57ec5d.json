{"ast":null,"code":"import _classCallCheck from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"D:\\\\Project\\\\React_Leaflet\\\\project1\\\\src\\\\components\\\\MyMapClass.jsx\";\nimport React, { Component } from \"react\";\nimport { FeatureGroup, GeoJSON, MapContainer, TileLayer } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport { Input, button, Button } from 'antd';\nimport '../css/input.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar MapGeoJson = /*#__PURE__*/function (_Component) {\n  _inherits(MapGeoJson, _Component);\n\n  var _super = _createSuper(MapGeoJson);\n\n  function MapGeoJson() {\n    var _this;\n\n    _classCallCheck(this, MapGeoJson);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      data: [],\n      center: [13.2955977, 102.2090103],\n      zoom: 6,\n      url: 'http://127.0.0.1:5000/get_province/',\n      province: '',\n      all_P: ['Mae Hong Son', 'Chumphon', 'Nakhon Si Thammarat', 'Phuket', 'Phangnga', 'Ranong', 'Surat Thani', 'Krabi', 'Phatthalung', 'Satun', 'Songkhla', 'Trang', 'Yala', 'Chiang Rai', 'Chiang Mai', 'Lampang', 'Lamphun', 'Nan', 'Phayao', 'Phrae', 'Phitsanulok', 'Sukhothai', 'Uttaradit', 'Kanchanaburi', 'Kamphaeng Phet', 'Phichit', 'Phetchabun', 'Suphan Buri', 'Tak', 'Uthai Thani', 'Ang Thong', 'Chai Nat', 'Lop Buri', 'Nakhon Nayok', 'Prachin Buri', 'Nakhon Sawan', 'Phra Nakhon Si Ayutthaya', 'Pathum Thani', 'Sing Buri', 'Saraburi', 'Bangkok Metropolis', 'Nonthaburi', 'Nakhon Pathom', 'Phetchaburi', 'Prachuap Khiri Khan', 'Ratchaburi', 'Samut Prakan', 'Samut Sakhon', 'Samut Songkhram', 'Si Sa Ket', 'Ubon Ratchathani', 'Amnat Charoen', 'Yasothon', 'Chon Buri', 'Chachoengsao', 'Chanthaburi', 'Sa Kaeo', 'Rayong', 'Trat', 'Buri Ram', 'Chaiyaphum', 'Khon Kaen', 'Kalasin', 'Maha Sarakham', 'Nakhon Ratchasima', 'Roi Et', 'Surin', 'Loei', 'Nong Khai', 'Sakon Nakhon', 'Udon Thani', 'Nong Bua Lam Phu', 'Nakhon Phanom', 'Mukdahan', 'Narathiwat', 'Pattani', 'Bueng Kan']\n    };\n\n    _this.input_styles = function () {\n      return {\n        height: 40,\n        margin: 12,\n        borderWidth: 1,\n        padding: 10\n      };\n    };\n\n    _this.myStyle = function () {\n      return {\n        color: \"green\",\n        weight: 1,\n        opacity: 1,\n        fillColor: \"red\",\n        dashArray: '8 5'\n      };\n    };\n\n    _this.handleOk = function (e) {\n      console.log(_this.state.province + 'Form Button OK');\n\n      _this.fetchData(_this.state.url + _this.state.province);\n    };\n\n    _this.handleCancel = function (e) {};\n\n    _this.onLatChange = function (e) {\n      _this.setState({\n        province: e.target.value\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MapGeoJson, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData(this.state.url + this.state.province);\n      console.log('did mount');\n    }\n  }, {\n    key: \"fetchData\",\n    value: function fetchData(url) {\n      var _this2 = this;\n\n      var request = fetch(url);\n      request.then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        _this2.setState({\n          data: data.features\n        });\n      }, function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [/*#__PURE__*/_jsxDEV(\"select\", {\n            onChange: function onChange(e) {\n              return _this3.onLatChange(e);\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"option\", {\n              value: \"\",\n              children: \"Select Province\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 74,\n              columnNumber: 19\n            }, this), this.state.all_P.map(function (p) {\n              return /*#__PURE__*/_jsxDEV(\"option\", {\n                value: p,\n                children: p\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 76,\n                columnNumber: 29\n              }, _this3);\n            })]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            id: \"serch\",\n            onClick: this.handleOk,\n            children: \"Search\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 72,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(MapContainer, {\n          center: this.state.center,\n          zoom: this.state.zoom,\n          scrollWheelZoom: true,\n          style: {\n            height: '95vh'\n          },\n          children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n            url: \"https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=UWwVBYXDjNUkBGiF7hvU\",\n            attribution: \"<a href=\\\"https://www.maptiler.com/copyright/\\\" target=\\\"_blank\\\">\\xA9 MapTiler</a> <a href=\\\"https://www.openstreetmap.org/copyright\\\" target=\\\"_blank\\\">\\xA9 OpenStreetMap contributors</a>\",\n            maxZoom: 20\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 84,\n            columnNumber: 18\n          }, this), /*#__PURE__*/_jsxDEV(FeatureGroup, {\n            children: /*#__PURE__*/_jsxDEV(GeoJSON, {\n              data: this.state.data,\n              style: this.myStyle,\n              children: [console.log(this.state.data), console.log(this.state.province)]\n            }, this.state.data.properties, true, {\n              fileName: _jsxFileName,\n              lineNumber: 90,\n              columnNumber: 21\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 89,\n            columnNumber: 19\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 11\n      }, this);\n    }\n  }]);\n\n  return MapGeoJson;\n}(Component);\n\nexport default MapGeoJson;","map":{"version":3,"names":["React","Component","FeatureGroup","GeoJSON","MapContainer","TileLayer","Input","button","Button","MapGeoJson","state","data","center","zoom","url","province","all_P","input_styles","height","margin","borderWidth","padding","myStyle","color","weight","opacity","fillColor","dashArray","handleOk","e","console","log","fetchData","handleCancel","onLatChange","setState","target","value","request","fetch","then","r","json","features","error","map","p","properties"],"sources":["D:/Project/React_Leaflet/project1/src/components/MyMapClass.jsx"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport {FeatureGroup, GeoJSON, MapContainer,TileLayer} from 'react-leaflet' \r\nimport 'leaflet/dist/leaflet.css' \r\nimport {Input, button, Button} from 'antd'\r\nimport '../css/input.css'\r\n\r\nclass MapGeoJson extends Component {\r\n        state = { \r\n                    data:[],\r\n                    center:[13.2955977,102.2090103],\r\n                    zoom:6,\r\n                    url:'http://127.0.0.1:5000/get_province/',\r\n                    province:'',\r\n                    all_P:['Mae Hong Son', 'Chumphon', 'Nakhon Si Thammarat', 'Phuket', 'Phangnga', 'Ranong', 'Surat Thani', 'Krabi', 'Phatthalung', 'Satun', 'Songkhla', 'Trang', 'Yala', 'Chiang Rai', 'Chiang Mai', 'Lampang', 'Lamphun', 'Nan', 'Phayao', 'Phrae', 'Phitsanulok', 'Sukhothai', 'Uttaradit', 'Kanchanaburi', 'Kamphaeng Phet', 'Phichit', 'Phetchabun', 'Suphan Buri', 'Tak', 'Uthai Thani', 'Ang Thong', 'Chai Nat', 'Lop Buri', 'Nakhon Nayok', 'Prachin Buri', 'Nakhon Sawan', 'Phra Nakhon Si Ayutthaya', 'Pathum Thani', 'Sing Buri', 'Saraburi', 'Bangkok Metropolis', 'Nonthaburi', 'Nakhon Pathom', 'Phetchaburi', 'Prachuap Khiri Khan', 'Ratchaburi', 'Samut Prakan', 'Samut Sakhon', 'Samut Songkhram', 'Si Sa Ket', 'Ubon Ratchathani', 'Amnat Charoen', 'Yasothon', 'Chon Buri', 'Chachoengsao', 'Chanthaburi', 'Sa Kaeo', 'Rayong', 'Trat', 'Buri Ram', 'Chaiyaphum', 'Khon Kaen', 'Kalasin', 'Maha Sarakham', 'Nakhon Ratchasima', 'Roi Et', 'Surin', 'Loei', 'Nong Khai', 'Sakon Nakhon', 'Udon Thani', 'Nong Bua Lam Phu', 'Nakhon Phanom', 'Mukdahan', 'Narathiwat', 'Pattani', 'Bueng Kan']\r\n                    } \r\n  \r\n    componentDidMount() {\r\n        this.fetchData(this.state.url + this.state.province);\r\n        console.log('did mount');\r\n    }\r\n    fetchData(url) {\r\n        let request = fetch(url);\r\n    \r\n        request\r\n          .then(r => r.json())\r\n          .then(data => {\r\n            this.setState({\r\n              data: data.features\r\n            });\r\n          }, (error) => {\r\n            console.error(error);\r\n          });\r\n    }\r\n    input_styles = () =>{\r\n      return({\r\n      height: 40,\r\n      margin: 12,\r\n      borderWidth: 1,\r\n      padding: 10,\r\n      })\r\n    } \r\n      \r\n    myStyle = () => {\r\n        return {\r\n          color: \"green\",\r\n          weight: 1,\r\n          opacity: 1,\r\n          fillColor: \"red\",\r\n          dashArray: '8 5'\r\n        }\r\n      }\r\n\r\n    handleOk = (e) => {\r\n      console.log(this.state.province+'Form Button OK');\r\n      this.fetchData(this.state.url + this.state.province);\r\n    };\r\n  \r\n    handleCancel = e => {\r\n      \r\n    };\r\n  \r\n    onLatChange = (e) => {\r\n\r\n      this.setState({\r\n        province: e.target.value,\r\n      })\r\n    }\r\n\r\n    render() { \r\n        return (\r\n          <div>\r\n              <span>\r\n                <select onChange={(e) => this.onLatChange(e)}>\r\n                  <option value=''>Select Province</option>\r\n                  {this.state.all_P.map((p) => {\r\n                    return (<option value={p}>{p}</option>) \r\n                  })}\r\n                </select>\r\n                <button id=\"serch\" onClick={this.handleOk}>Search</button>\r\n              </span>\r\n              \r\n\r\n              <MapContainer center={this.state.center} zoom={this.state.zoom} scrollWheelZoom={true} style={{height:'95vh'}}>\r\n                 <TileLayer\r\n                      url='https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=UWwVBYXDjNUkBGiF7hvU'\r\n                      attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\r\n                      maxZoom= {20}\r\n                  /> \r\n                  <FeatureGroup>\r\n                    <GeoJSON key={this.state.data.properties}  data={this.state.data} style={this.myStyle}>\r\n                        {console.log(this.state.data)}\r\n                        {console.log(this.state.province)}\r\n                    </GeoJSON>\r\n                  </FeatureGroup>\r\n              </MapContainer>\r\n\r\n            </div>\r\n        );\r\n    }\r\n}\r\n \r\nexport default MapGeoJson;"],"mappings":"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"},"metadata":{},"sourceType":"module"}