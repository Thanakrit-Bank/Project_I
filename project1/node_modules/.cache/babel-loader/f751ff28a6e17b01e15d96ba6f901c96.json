{"ast":null,"code":"import _classCallCheck from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/classCallCheck.js\";\nimport _createClass from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/createClass.js\";\nimport _inherits from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/inherits.js\";\nimport _createSuper from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/createSuper.js\";\nvar _jsxFileName = \"D:\\\\Project\\\\React_Leaflet\\\\project1\\\\src\\\\components\\\\MyMapClass.jsx\";\nimport React, { Component } from \"react\";\nimport { FeatureGroup, GeoJSON, MapContainer, TileLayer } from 'react-leaflet';\nimport 'leaflet/dist/leaflet.css';\nimport ProvinceInput from \"./input\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar MapGeoJson = /*#__PURE__*/function (_Component) {\n  _inherits(MapGeoJson, _Component);\n\n  var _super = _createSuper(MapGeoJson);\n\n  function MapGeoJson() {\n    var _this;\n\n    _classCallCheck(this, MapGeoJson);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _super.call.apply(_super, [this].concat(args));\n    _this.state = {\n      data: [],\n      center: [13.2955977, 102.2090103],\n      zoom: 6,\n      url: 'http://127.0.0.1:5000/get_province/',\n      province: 'Mae Hong Son'\n    };\n\n    _this.input_styles = function () {\n      return {\n        height: 40,\n        margin: 12,\n        borderWidth: 1,\n        padding: 10\n      };\n    };\n\n    _this.myStyle = function () {\n      return {\n        color: \"green\",\n        weight: 3,\n        opacity: 1,\n        fillColor: \"red\",\n        dashArray: '8 5'\n      };\n    };\n\n    _this.onProvinceInputChange = function (province) {\n      _this.setState({\n        province: province\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MapGeoJson, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.fetchData(this.state.url + this.state.province);\n      console.log('did mount');\n    }\n  }, {\n    key: \"fetchData\",\n    value: function fetchData(url) {\n      var _this2 = this;\n\n      var request = fetch(url);\n      request.then(function (r) {\n        return r.json();\n      }).then(function (data) {\n        _this2.setState({\n          data: data.features\n        });\n      }, function (error) {\n        console.error(error);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return /*#__PURE__*/_jsxDEV(MapContainer, {\n        center: this.state.center,\n        zoom: this.state.zoom,\n        scrollWheelZoom: true,\n        style: {\n          height: '80vh'\n        },\n        children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n          url: \"https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=UWwVBYXDjNUkBGiF7hvU\",\n          attribution: \"<a href=\\\"https://www.maptiler.com/copyright/\\\" target=\\\"_blank\\\">\\xA9 MapTiler</a> <a href=\\\"https://www.openstreetmap.org/copyright\\\" target=\\\"_blank\\\">\\xA9 OpenStreetMap contributors</a>\",\n          maxZoom: 20\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(FeatureGroup, {\n          children: /*#__PURE__*/_jsxDEV(GeoJSON, {\n            data: this.state.data,\n            style: this.myStyle,\n            children: console.log(this.state.data)\n          }, this.state.data.properties, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 23\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 19\n        }, this), /*#__PURE__*/_jsxDEV(ProvinceInput, {\n          onProvinceChange: this.onProvinceInputChange\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 71,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 59,\n        columnNumber: 15\n      }, this);\n    }\n  }]);\n\n  return MapGeoJson;\n}(Component);\n\nexport default MapGeoJson;","map":{"version":3,"names":["React","Component","FeatureGroup","GeoJSON","MapContainer","TileLayer","ProvinceInput","MapGeoJson","state","data","center","zoom","url","province","input_styles","height","margin","borderWidth","padding","myStyle","color","weight","opacity","fillColor","dashArray","onProvinceInputChange","setState","fetchData","console","log","request","fetch","then","r","json","features","error","properties"],"sources":["D:/Project/React_Leaflet/project1/src/components/MyMapClass.jsx"],"sourcesContent":["import React, {Component} from \"react\";\r\nimport {FeatureGroup, GeoJSON, MapContainer,TileLayer} from 'react-leaflet' \r\nimport 'leaflet/dist/leaflet.css' \r\nimport ProvinceInput from \"./input\";\r\n\r\nclass MapGeoJson extends Component {\r\n        state = { \r\n                    data:[],\r\n                    center:[13.2955977,102.2090103],\r\n                    zoom:6,\r\n                    url:'http://127.0.0.1:5000/get_province/',\r\n                    province:'Mae Hong Son'\r\n                    } \r\n  \r\n    componentDidMount() {\r\n        this.fetchData(this.state.url + this.state.province);\r\n        console.log('did mount');\r\n    }\r\n    fetchData(url) {\r\n        let request = fetch(url);\r\n    \r\n        request\r\n          .then(r => r.json())\r\n          .then(data => {\r\n            this.setState({\r\n              data: data.features\r\n            });\r\n          }, (error) => {\r\n            console.error(error);\r\n          });\r\n    }\r\n    input_styles = () =>{\r\n      return({\r\n      height: 40,\r\n      margin: 12,\r\n      borderWidth: 1,\r\n      padding: 10,\r\n      })\r\n    } \r\n      \r\n    myStyle = () => {\r\n        return {\r\n          color: \"green\",\r\n          weight: 3,\r\n          opacity: 1,\r\n          fillColor: \"red\",\r\n          dashArray: '8 5'\r\n        }\r\n      }\r\n\r\n      onProvinceInputChange = (province) => {\r\n      this.setState({\r\n        province: province\r\n      });\r\n    }\r\n\r\n    render() { \r\n        return (\r\n              <MapContainer center={this.state.center} zoom={this.state.zoom} scrollWheelZoom={true} style={{height:'80vh'}}>\r\n                  <TileLayer\r\n                      url='https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=UWwVBYXDjNUkBGiF7hvU'\r\n                      attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\r\n                      maxZoom= {20}\r\n                  />\r\n                  <FeatureGroup>\r\n                      <GeoJSON key={this.state.data.properties}  data={this.state.data} style={this.myStyle}>\r\n                          {console.log(this.state.data)}\r\n                      </GeoJSON>\r\n                  </FeatureGroup>\r\n\r\n                  <ProvinceInput onProvinceChange={this.onProvinceInputChange}/>\r\n              </MapContainer>\r\n        \r\n        \r\n        );\r\n    }\r\n}\r\n \r\nexport default MapGeoJson;"],"mappings":";;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;AACA,SAAQC,YAAR,EAAsBC,OAAtB,EAA+BC,YAA/B,EAA4CC,SAA5C,QAA4D,eAA5D;AACA,OAAO,0BAAP;AACA,OAAOC,aAAP,MAA0B,SAA1B;;;IAEMC,U;;;;;;;;;;;;;;;UACEC,K,GAAQ;MACIC,IAAI,EAAC,EADT;MAEIC,MAAM,EAAC,CAAC,UAAD,EAAY,WAAZ,CAFX;MAGIC,IAAI,EAAC,CAHT;MAIIC,GAAG,EAAC,qCAJR;MAKIC,QAAQ,EAAC;IALb,C;;UAyBZC,Y,GAAe,YAAK;MAClB,OAAO;QACPC,MAAM,EAAE,EADD;QAEPC,MAAM,EAAE,EAFD;QAGPC,WAAW,EAAE,CAHN;QAIPC,OAAO,EAAE;MAJF,CAAP;IAMD,C;;UAEDC,O,GAAU,YAAM;MACZ,OAAO;QACLC,KAAK,EAAE,OADF;QAELC,MAAM,EAAE,CAFH;QAGLC,OAAO,EAAE,CAHJ;QAILC,SAAS,EAAE,KAJN;QAKLC,SAAS,EAAE;MALN,CAAP;IAOD,C;;UAEDC,qB,GAAwB,UAACZ,QAAD,EAAc;MACtC,MAAKa,QAAL,CAAc;QACZb,QAAQ,EAAEA;MADE,CAAd;IAGD,C;;;;;;;WAxCD,6BAAoB;MAChB,KAAKc,SAAL,CAAe,KAAKnB,KAAL,CAAWI,GAAX,GAAiB,KAAKJ,KAAL,CAAWK,QAA3C;MACAe,OAAO,CAACC,GAAR,CAAY,WAAZ;IACH;;;WACD,mBAAUjB,GAAV,EAAe;MAAA;;MACX,IAAIkB,OAAO,GAAGC,KAAK,CAACnB,GAAD,CAAnB;MAEAkB,OAAO,CACJE,IADH,CACQ,UAAAC,CAAC;QAAA,OAAIA,CAAC,CAACC,IAAF,EAAJ;MAAA,CADT,EAEGF,IAFH,CAEQ,UAAAvB,IAAI,EAAI;QACZ,MAAI,CAACiB,QAAL,CAAc;UACZjB,IAAI,EAAEA,IAAI,CAAC0B;QADC,CAAd;MAGD,CANH,EAMK,UAACC,KAAD,EAAW;QACZR,OAAO,CAACQ,KAAR,CAAcA,KAAd;MACD,CARH;IASH;;;WA0BD,kBAAS;MACL,oBACM,QAAC,YAAD;QAAc,MAAM,EAAE,KAAK5B,KAAL,CAAWE,MAAjC;QAAyC,IAAI,EAAE,KAAKF,KAAL,CAAWG,IAA1D;QAAgE,eAAe,EAAE,IAAjF;QAAuF,KAAK,EAAE;UAACI,MAAM,EAAC;QAAR,CAA9F;QAAA,wBACI,QAAC,SAAD;UACI,GAAG,EAAC,+EADR;UAEI,WAAW,EAAC,+LAFhB;UAGI,OAAO,EAAG;QAHd;UAAA;UAAA;UAAA;QAAA,QADJ,eAMI,QAAC,YAAD;UAAA,uBACI,QAAC,OAAD;YAA2C,IAAI,EAAE,KAAKP,KAAL,CAAWC,IAA5D;YAAkE,KAAK,EAAE,KAAKU,OAA9E;YAAA,UACKS,OAAO,CAACC,GAAR,CAAY,KAAKrB,KAAL,CAAWC,IAAvB;UADL,GAAc,KAAKD,KAAL,CAAWC,IAAX,CAAgB4B,UAA9B;YAAA;YAAA;YAAA;UAAA;QADJ;UAAA;UAAA;UAAA;QAAA,QANJ,eAYI,QAAC,aAAD;UAAe,gBAAgB,EAAE,KAAKZ;QAAtC;UAAA;UAAA;UAAA;QAAA,QAZJ;MAAA;QAAA;QAAA;QAAA;MAAA,QADN;IAkBH;;;;EAtEoBxB,S;;AAyEzB,eAAeM,UAAf"},"metadata":{},"sourceType":"module"}