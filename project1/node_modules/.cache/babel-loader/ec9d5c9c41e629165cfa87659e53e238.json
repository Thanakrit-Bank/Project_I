{"ast":null,"code":"import { feature, featureCollection, point } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nimport lineSegment from \"@turf/line-segment\";\nimport { featureEach } from \"@turf/meta\";\nimport rbush from \"geojson-rbush\";\n/**\n * Takes any LineString or Polygon GeoJSON and returns the intersecting point(s).\n *\n * @name lineIntersect\n * @param {GeoJSON} line1 any LineString or Polygon\n * @param {GeoJSON} line2 any LineString or Polygon\n * @returns {FeatureCollection<Point>} point(s) that intersect both\n * @example\n * var line1 = turf.lineString([[126, -11], [129, -21]]);\n * var line2 = turf.lineString([[123, -18], [131, -14]]);\n * var intersects = turf.lineIntersect(line1, line2);\n *\n * //addToMap\n * var addToMap = [line1, line2, intersects]\n */\n\nfunction lineIntersect(line1, line2) {\n  var unique = {};\n  var results = []; // First, normalize geometries to features\n  // Then, handle simple 2-vertex segments\n\n  if (line1.type === \"LineString\") {\n    line1 = feature(line1);\n  }\n\n  if (line2.type === \"LineString\") {\n    line2 = feature(line2);\n  }\n\n  if (line1.type === \"Feature\" && line2.type === \"Feature\" && line1.geometry !== null && line2.geometry !== null && line1.geometry.type === \"LineString\" && line2.geometry.type === \"LineString\" && line1.geometry.coordinates.length === 2 && line2.geometry.coordinates.length === 2) {\n    var intersect = intersects(line1, line2);\n\n    if (intersect) {\n      results.push(intersect);\n    }\n\n    return featureCollection(results);\n  } // Handles complex GeoJSON Geometries\n\n\n  var tree = rbush();\n  tree.load(lineSegment(line2));\n  featureEach(lineSegment(line1), function (segment) {\n    featureEach(tree.search(segment), function (match) {\n      var intersect = intersects(segment, match);\n\n      if (intersect) {\n        // prevent duplicate points https://github.com/Turfjs/turf/issues/688\n        var key = getCoords(intersect).join(\",\");\n\n        if (!unique[key]) {\n          unique[key] = true;\n          results.push(intersect);\n        }\n      }\n    });\n  });\n  return featureCollection(results);\n}\n/**\n * Find a point that intersects LineStrings with two coordinates each\n *\n * @private\n * @param {Feature<LineString>} line1 GeoJSON LineString (Must only contain 2 coordinates)\n * @param {Feature<LineString>} line2 GeoJSON LineString (Must only contain 2 coordinates)\n * @returns {Feature<Point>} intersecting GeoJSON Point\n */\n\n\nfunction intersects(line1, line2) {\n  var coords1 = getCoords(line1);\n  var coords2 = getCoords(line2);\n\n  if (coords1.length !== 2) {\n    throw new Error(\"<intersects> line1 must only contain 2 coordinates\");\n  }\n\n  if (coords2.length !== 2) {\n    throw new Error(\"<intersects> line2 must only contain 2 coordinates\");\n  }\n\n  var x1 = coords1[0][0];\n  var y1 = coords1[0][1];\n  var x2 = coords1[1][0];\n  var y2 = coords1[1][1];\n  var x3 = coords2[0][0];\n  var y3 = coords2[0][1];\n  var x4 = coords2[1][0];\n  var y4 = coords2[1][1];\n  var denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n  var numeA = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3);\n  var numeB = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3);\n\n  if (denom === 0) {\n    if (numeA === 0 && numeB === 0) {\n      return null;\n    }\n\n    return null;\n  }\n\n  var uA = numeA / denom;\n  var uB = numeB / denom;\n\n  if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n    var x = x1 + uA * (x2 - x1);\n    var y = y1 + uA * (y2 - y1);\n    return point([x, y]);\n  }\n\n  return null;\n}\n\nexport default lineIntersect;","map":{"version":3,"names":["feature","featureCollection","point","getCoords","lineSegment","featureEach","rbush","lineIntersect","line1","line2","unique","results","type","geometry","coordinates","length","intersect","intersects","push","tree","load","segment","search","match","key","join","coords1","coords2","Error","x1","y1","x2","y2","x3","y3","x4","y4","denom","numeA","numeB","uA","uB","x","y"],"sources":["D:/Project/Mix_Project/Project_I/project1/node_modules/@turf/line-intersect/dist/es/index.js"],"sourcesContent":["import { feature, featureCollection, point, } from \"@turf/helpers\";\nimport { getCoords } from \"@turf/invariant\";\nimport lineSegment from \"@turf/line-segment\";\nimport { featureEach } from \"@turf/meta\";\nimport rbush from \"geojson-rbush\";\n/**\n * Takes any LineString or Polygon GeoJSON and returns the intersecting point(s).\n *\n * @name lineIntersect\n * @param {GeoJSON} line1 any LineString or Polygon\n * @param {GeoJSON} line2 any LineString or Polygon\n * @returns {FeatureCollection<Point>} point(s) that intersect both\n * @example\n * var line1 = turf.lineString([[126, -11], [129, -21]]);\n * var line2 = turf.lineString([[123, -18], [131, -14]]);\n * var intersects = turf.lineIntersect(line1, line2);\n *\n * //addToMap\n * var addToMap = [line1, line2, intersects]\n */\nfunction lineIntersect(line1, line2) {\n    var unique = {};\n    var results = [];\n    // First, normalize geometries to features\n    // Then, handle simple 2-vertex segments\n    if (line1.type === \"LineString\") {\n        line1 = feature(line1);\n    }\n    if (line2.type === \"LineString\") {\n        line2 = feature(line2);\n    }\n    if (line1.type === \"Feature\" &&\n        line2.type === \"Feature\" &&\n        line1.geometry !== null &&\n        line2.geometry !== null &&\n        line1.geometry.type === \"LineString\" &&\n        line2.geometry.type === \"LineString\" &&\n        line1.geometry.coordinates.length === 2 &&\n        line2.geometry.coordinates.length === 2) {\n        var intersect = intersects(line1, line2);\n        if (intersect) {\n            results.push(intersect);\n        }\n        return featureCollection(results);\n    }\n    // Handles complex GeoJSON Geometries\n    var tree = rbush();\n    tree.load(lineSegment(line2));\n    featureEach(lineSegment(line1), function (segment) {\n        featureEach(tree.search(segment), function (match) {\n            var intersect = intersects(segment, match);\n            if (intersect) {\n                // prevent duplicate points https://github.com/Turfjs/turf/issues/688\n                var key = getCoords(intersect).join(\",\");\n                if (!unique[key]) {\n                    unique[key] = true;\n                    results.push(intersect);\n                }\n            }\n        });\n    });\n    return featureCollection(results);\n}\n/**\n * Find a point that intersects LineStrings with two coordinates each\n *\n * @private\n * @param {Feature<LineString>} line1 GeoJSON LineString (Must only contain 2 coordinates)\n * @param {Feature<LineString>} line2 GeoJSON LineString (Must only contain 2 coordinates)\n * @returns {Feature<Point>} intersecting GeoJSON Point\n */\nfunction intersects(line1, line2) {\n    var coords1 = getCoords(line1);\n    var coords2 = getCoords(line2);\n    if (coords1.length !== 2) {\n        throw new Error(\"<intersects> line1 must only contain 2 coordinates\");\n    }\n    if (coords2.length !== 2) {\n        throw new Error(\"<intersects> line2 must only contain 2 coordinates\");\n    }\n    var x1 = coords1[0][0];\n    var y1 = coords1[0][1];\n    var x2 = coords1[1][0];\n    var y2 = coords1[1][1];\n    var x3 = coords2[0][0];\n    var y3 = coords2[0][1];\n    var x4 = coords2[1][0];\n    var y4 = coords2[1][1];\n    var denom = (y4 - y3) * (x2 - x1) - (x4 - x3) * (y2 - y1);\n    var numeA = (x4 - x3) * (y1 - y3) - (y4 - y3) * (x1 - x3);\n    var numeB = (x2 - x1) * (y1 - y3) - (y2 - y1) * (x1 - x3);\n    if (denom === 0) {\n        if (numeA === 0 && numeB === 0) {\n            return null;\n        }\n        return null;\n    }\n    var uA = numeA / denom;\n    var uB = numeB / denom;\n    if (uA >= 0 && uA <= 1 && uB >= 0 && uB <= 1) {\n        var x = x1 + uA * (x2 - x1);\n        var y = y1 + uA * (y2 - y1);\n        return point([x, y]);\n    }\n    return null;\n}\nexport default lineIntersect;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}