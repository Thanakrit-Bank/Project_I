{"ast":null,"code":"import _regeneratorRuntime from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";\nimport _asyncToGenerator from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport _slicedToArray from \"D:/Project/React_Leaflet/project1/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";\n\nvar _jsxFileName = \"D:\\\\Project\\\\React_Leaflet\\\\project1\\\\src\\\\components\\\\MyMap.js\",\n    _this = this,\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from 'react';\nimport { MapContainer, TileLayer, GeoJSON, Polygon } from \"react-leaflet\";\nimport 'leaflet/dist/leaflet.css';\nimport { mapData } from '../data/TH_Province';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar MyMap = function MyMap() {\n  _s();\n\n  // use for lifecycle react hook\n  var _useState = useState({}),\n      _useState2 = _slicedToArray(_useState, 2),\n      data = _useState2[0],\n      setData = _useState2[1];\n\n  var _useState3 = useState(false),\n      _useState4 = _slicedToArray(_useState3, 2),\n      error = _useState4[0],\n      setError = _useState4[1]; // fech API \n\n\n  function fetchData() {\n    return _fetchData.apply(this, arguments);\n  }\n\n  function _fetchData() {\n    _fetchData = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee() {\n      var res;\n      return _regeneratorRuntime().wrap(function _callee$(_context) {\n        while (1) {\n          switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return fetch('http://127.0.0.1:5000/get_tambon/หนองจะบก');\n\n            case 2:\n              res = _context.sent;\n              res.json().then(function (res) {\n                return setData(res);\n              }).catch(function (err) {\n                return setError(err);\n              });\n\n            case 4:\n            case \"end\":\n              return _context.stop();\n          }\n        }\n      }, _callee);\n    }));\n    return _fetchData.apply(this, arguments);\n  }\n\n  useEffect(function () {\n    fetchData();\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      style: {\n        textAlign: 'center'\n      },\n      children: \"My Map React Leaftlet\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 24,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [51.505, -0.09],\n      zoom: 14,\n      scrollWheelZoom: true,\n      style: {\n        height: '85vh'\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=UWwVBYXDjNUkBGiF7hvU\",\n        attribution: \"<a href=\\\"https://www.maptiler.com/copyright/\\\" target=\\\"_blank\\\">\\xA9 MapTiler</a> <a href=\\\"https://www.openstreetmap.org/copyright\\\" target=\\\"_blank\\\">\\xA9 OpenStreetMap contributors</a>\",\n        maxZoom: 20\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 27,\n        columnNumber: 13\n      }, _this), mapData.features.map(function (p) {\n        var coordinates = p.geometry.coordinates[0].map(function (item) {\n          return [[item[1], item[0]]];\n        });\n        return /*#__PURE__*/_jsxDEV(Polygon, {\n          pathOptions: {\n            fillColor: '#FD8D3C',\n            fillOpacity: 0.7,\n            weight: 2,\n            opacity: 1,\n            dashArray: 3,\n            color: 'white'\n          },\n          positions: coordinates\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 35,\n          columnNumber: 25\n        }, _this);\n      })]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 26,\n      columnNumber: 9\n    }, _this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: JSON.stringify(mapData)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 9\n    }, _this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 23,\n    columnNumber: 5\n  }, _this);\n};\n\n_s(MyMap, \"mLOi/WNAs7owK3fXNKeKj/Ds5hw=\");\n\n_c = MyMap;\nexport default MyMap;\n\nvar _c;\n\n$RefreshReg$(_c, \"MyMap\");","map":{"version":3,"names":["React","useEffect","useState","MapContainer","TileLayer","GeoJSON","Polygon","mapData","MyMap","data","setData","error","setError","fetchData","fetch","res","json","then","catch","err","textAlign","height","features","map","p","coordinates","geometry","item","fillColor","fillOpacity","weight","opacity","dashArray","color","JSON","stringify"],"sources":["D:/Project/React_Leaflet/project1/src/components/MyMap.js"],"sourcesContent":["import React, {useEffect, useState} from 'react'\r\nimport { MapContainer, TileLayer, GeoJSON,Polygon} from \"react-leaflet\";\r\nimport 'leaflet/dist/leaflet.css'\r\nimport { mapData } from '../data/TH_Province';\r\n\r\nconst MyMap = () => {\r\n    \r\n    // use for lifecycle react hook\r\n    const [data, setData] = useState({})\r\n    const [error, setError] = useState(false)\r\n\r\n    // fech API \r\n    async function fetchData(){\r\n      const res = await fetch('http://127.0.0.1:5000/get_tambon/หนองจะบก')\r\n      res.json().then(res => setData(res)).catch(err => setError(err))\r\n    }\r\n\r\n    useEffect(() => {\r\n      fetchData()\r\n    })\r\n\r\n    return (\r\n    <div>\r\n        <h1 style={{textAlign:'center'}}>My Map React Leaftlet</h1>\r\n        {/* 14.8986333,102.0650107    51.505, -0.09 */}\r\n        <MapContainer center={[51.505, -0.09]} zoom={14} scrollWheelZoom={true} style={{height:'85vh'}}>\r\n            <TileLayer\r\n                url='https://api.maptiler.com/maps/hybrid/{z}/{x}/{y}.jpg?key=UWwVBYXDjNUkBGiF7hvU'\r\n                attribution='<a href=\"https://www.maptiler.com/copyright/\" target=\"_blank\">&copy; MapTiler</a> <a href=\"https://www.openstreetmap.org/copyright\" target=\"_blank\">&copy; OpenStreetMap contributors</a>'\r\n                maxZoom= {20}\r\n            />\r\n            {\r\n              mapData.features.map((p) => {\r\n                const coordinates = p.geometry.coordinates[0].map((item)=>[[item[1], item[0]]])\r\n                return (<Polygon\r\n                  pathOptions={{\r\n                    fillColor:'#FD8D3C',\r\n                    fillOpacity: 0.7,\r\n                    weight:2,\r\n                    opacity: 1,\r\n                    dashArray:3,\r\n                    color:'white'\r\n                  }}\r\n                  positions={coordinates}\r\n                />)\r\n              })\r\n            }\r\n            \r\n        </MapContainer>\r\n        {/* <div>{JSON.stringify(data.features)}</div> */}\r\n        <div>{JSON.stringify(mapData)}</div>\r\n    </div>)\r\n    \r\n}\r\n\r\nexport default MyMap"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,SAASC,YAAT,EAAuBC,SAAvB,EAAkCC,OAAlC,EAA0CC,OAA1C,QAAwD,eAAxD;AACA,OAAO,0BAAP;AACA,SAASC,OAAT,QAAwB,qBAAxB;;;AAEA,IAAMC,KAAK,GAAG,SAARA,KAAQ,GAAM;EAAA;;EAEhB;EACA,gBAAwBN,QAAQ,CAAC,EAAD,CAAhC;EAAA;EAAA,IAAOO,IAAP;EAAA,IAAaC,OAAb;;EACA,iBAA0BR,QAAQ,CAAC,KAAD,CAAlC;EAAA;EAAA,IAAOS,KAAP;EAAA,IAAcC,QAAd,iBAJgB,CAMhB;;;EANgB,SAODC,SAPC;IAAA;EAAA;;EAAA;IAAA,wEAOhB;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;cAAA,OACoBC,KAAK,CAAC,2CAAD,CADzB;;YAAA;cACQC,GADR;cAEEA,GAAG,CAACC,IAAJ,GAAWC,IAAX,CAAgB,UAAAF,GAAG;gBAAA,OAAIL,OAAO,CAACK,GAAD,CAAX;cAAA,CAAnB,EAAqCG,KAArC,CAA2C,UAAAC,GAAG;gBAAA,OAAIP,QAAQ,CAACO,GAAD,CAAZ;cAAA,CAA9C;;YAFF;YAAA;cAAA;UAAA;QAAA;MAAA;IAAA,CAPgB;IAAA;EAAA;;EAYhBlB,SAAS,CAAC,YAAM;IACdY,SAAS;EACV,CAFQ,CAAT;EAIA,oBACA;IAAA,wBACI;MAAI,KAAK,EAAE;QAACO,SAAS,EAAC;MAAX,CAAX;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,SADJ,eAGI,QAAC,YAAD;MAAc,MAAM,EAAE,CAAC,MAAD,EAAS,CAAC,IAAV,CAAtB;MAAuC,IAAI,EAAE,EAA7C;MAAiD,eAAe,EAAE,IAAlE;MAAwE,KAAK,EAAE;QAACC,MAAM,EAAC;MAAR,CAA/E;MAAA,wBACI,QAAC,SAAD;QACI,GAAG,EAAC,+EADR;QAEI,WAAW,EAAC,+LAFhB;QAGI,OAAO,EAAG;MAHd;QAAA;QAAA;QAAA;MAAA,SADJ,EAOMd,OAAO,CAACe,QAAR,CAAiBC,GAAjB,CAAqB,UAACC,CAAD,EAAO;QAC1B,IAAMC,WAAW,GAAGD,CAAC,CAACE,QAAF,CAAWD,WAAX,CAAuB,CAAvB,EAA0BF,GAA1B,CAA8B,UAACI,IAAD;UAAA,OAAQ,CAAC,CAACA,IAAI,CAAC,CAAD,CAAL,EAAUA,IAAI,CAAC,CAAD,CAAd,CAAD,CAAR;QAAA,CAA9B,CAApB;QACA,oBAAQ,QAAC,OAAD;UACN,WAAW,EAAE;YACXC,SAAS,EAAC,SADC;YAEXC,WAAW,EAAE,GAFF;YAGXC,MAAM,EAAC,CAHI;YAIXC,OAAO,EAAE,CAJE;YAKXC,SAAS,EAAC,CALC;YAMXC,KAAK,EAAC;UANK,CADP;UASN,SAAS,EAAER;QATL;UAAA;UAAA;UAAA;QAAA,SAAR;MAWD,CAbD,CAPN;IAAA;MAAA;MAAA;MAAA;IAAA,SAHJ,eA4BI;MAAA,UAAMS,IAAI,CAACC,SAAL,CAAe5B,OAAf;IAAN;MAAA;MAAA;MAAA;IAAA,SA5BJ;EAAA;IAAA;IAAA;IAAA;EAAA,SADA;AAgCH,CAhDD;;GAAMC,K;;KAAAA,K;AAkDN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}