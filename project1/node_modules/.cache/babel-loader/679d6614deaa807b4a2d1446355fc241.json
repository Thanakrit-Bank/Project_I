{"ast":null,"code":"import adder from \"./adder\";\nimport { atan2, cos, quarterPi, radians, sin, tau } from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\nexport var areaRingSum = adder();\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function polygonStart() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function polygonEnd() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function sphere() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u)); // Advance the previous points.\n\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function (object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}","map":{"version":3,"names":["adder","atan2","cos","quarterPi","radians","sin","tau","noop","stream","areaRingSum","areaSum","lambda00","phi00","lambda0","cosPhi0","sinPhi0","areaStream","point","lineStart","lineEnd","polygonStart","reset","areaRingStart","areaRingEnd","polygonEnd","areaRing","add","sphere","areaPointFirst","areaPoint","lambda","phi","dLambda","sdLambda","adLambda","cosPhi","sinPhi","k","u","v","object"],"sources":["D:/Project/Mix_Project/Project_I/project1/node_modules/d3-geo/src/area.js"],"sourcesContent":["import adder from \"./adder\";\nimport {atan2, cos, quarterPi, radians, sin, tau} from \"./math\";\nimport noop from \"./noop\";\nimport stream from \"./stream\";\n\nexport var areaRingSum = adder();\n\nvar areaSum = adder(),\n    lambda00,\n    phi00,\n    lambda0,\n    cosPhi0,\n    sinPhi0;\n\nexport var areaStream = {\n  point: noop,\n  lineStart: noop,\n  lineEnd: noop,\n  polygonStart: function() {\n    areaRingSum.reset();\n    areaStream.lineStart = areaRingStart;\n    areaStream.lineEnd = areaRingEnd;\n  },\n  polygonEnd: function() {\n    var areaRing = +areaRingSum;\n    areaSum.add(areaRing < 0 ? tau + areaRing : areaRing);\n    this.lineStart = this.lineEnd = this.point = noop;\n  },\n  sphere: function() {\n    areaSum.add(tau);\n  }\n};\n\nfunction areaRingStart() {\n  areaStream.point = areaPointFirst;\n}\n\nfunction areaRingEnd() {\n  areaPoint(lambda00, phi00);\n}\n\nfunction areaPointFirst(lambda, phi) {\n  areaStream.point = areaPoint;\n  lambda00 = lambda, phi00 = phi;\n  lambda *= radians, phi *= radians;\n  lambda0 = lambda, cosPhi0 = cos(phi = phi / 2 + quarterPi), sinPhi0 = sin(phi);\n}\n\nfunction areaPoint(lambda, phi) {\n  lambda *= radians, phi *= radians;\n  phi = phi / 2 + quarterPi; // half the angular distance from south pole\n\n  // Spherical excess E for a spherical triangle with vertices: south pole,\n  // previous point, current point.  Uses a formula derived from Cagnoli’s\n  // theorem.  See Todhunter, Spherical Trig. (1871), Sec. 103, Eq. (2).\n  var dLambda = lambda - lambda0,\n      sdLambda = dLambda >= 0 ? 1 : -1,\n      adLambda = sdLambda * dLambda,\n      cosPhi = cos(phi),\n      sinPhi = sin(phi),\n      k = sinPhi0 * sinPhi,\n      u = cosPhi0 * cosPhi + k * cos(adLambda),\n      v = k * sdLambda * sin(adLambda);\n  areaRingSum.add(atan2(v, u));\n\n  // Advance the previous points.\n  lambda0 = lambda, cosPhi0 = cosPhi, sinPhi0 = sinPhi;\n}\n\nexport default function(object) {\n  areaSum.reset();\n  stream(object, areaStream);\n  return areaSum * 2;\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}