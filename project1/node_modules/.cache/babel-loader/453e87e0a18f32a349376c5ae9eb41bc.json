{"ast":null,"code":"import { lineString, multiLineString, multiPolygon, polygon } from \"@turf/helpers\";\nimport { getGeom } from \"@turf/invariant\";\nimport { lineclip, polygonclip } from \"./lib/lineclip.js\";\n/**\r\n * Takes a {@link Feature} and a bbox and clips the feature to the bbox using\r\n * [lineclip](https://github.com/mapbox/lineclip).\r\n * May result in degenerate edges when clipping Polygons.\r\n *\r\n * @name bboxClip\r\n * @param {Feature<LineString|MultiLineString|Polygon|MultiPolygon>} feature feature to clip to the bbox\r\n * @param {BBox} bbox extent in [minX, minY, maxX, maxY] order\r\n * @returns {Feature<LineString|MultiLineString|Polygon|MultiPolygon>} clipped Feature\r\n * @example\r\n * var bbox = [0, 0, 10, 10];\r\n * var poly = turf.polygon([[[2, 2], [8, 4], [12, 8], [3, 7], [2, 2]]]);\r\n *\r\n * var clipped = turf.bboxClip(poly, bbox);\r\n *\r\n * //addToMap\r\n * var addToMap = [bbox, poly, clipped]\r\n */\n\nexport default function bboxClip(feature, bbox) {\n  var geom = getGeom(feature);\n  var type = geom.type;\n  var properties = feature.type === \"Feature\" ? feature.properties : {};\n  var coords = geom.coordinates;\n\n  switch (type) {\n    case \"LineString\":\n    case \"MultiLineString\":\n      {\n        var lines_1 = [];\n\n        if (type === \"LineString\") {\n          coords = [coords];\n        }\n\n        coords.forEach(function (line) {\n          lineclip(line, bbox, lines_1);\n        });\n\n        if (lines_1.length === 1) {\n          return lineString(lines_1[0], properties);\n        }\n\n        return multiLineString(lines_1, properties);\n      }\n\n    case \"Polygon\":\n      return polygon(clipPolygon(coords, bbox), properties);\n\n    case \"MultiPolygon\":\n      return multiPolygon(coords.map(function (poly) {\n        return clipPolygon(poly, bbox);\n      }), properties);\n\n    default:\n      throw new Error(\"geometry \" + type + \" not supported\");\n  }\n}\n\nfunction clipPolygon(rings, bbox) {\n  var outRings = [];\n\n  for (var _i = 0, rings_1 = rings; _i < rings_1.length; _i++) {\n    var ring = rings_1[_i];\n    var clipped = polygonclip(ring, bbox);\n\n    if (clipped.length > 0) {\n      if (clipped[0][0] !== clipped[clipped.length - 1][0] || clipped[0][1] !== clipped[clipped.length - 1][1]) {\n        clipped.push(clipped[0]);\n      }\n\n      if (clipped.length >= 4) {\n        outRings.push(clipped);\n      }\n    }\n  }\n\n  return outRings;\n}","map":{"version":3,"names":["lineString","multiLineString","multiPolygon","polygon","getGeom","lineclip","polygonclip","bboxClip","feature","bbox","geom","type","properties","coords","coordinates","lines_1","forEach","line","length","clipPolygon","map","poly","Error","rings","outRings","_i","rings_1","ring","clipped","push"],"sources":["C:/Users/Administrator/Desktop/Project_I/project1/node_modules/@turf/bbox-clip/dist/es/index.js"],"sourcesContent":["import { lineString, multiLineString, multiPolygon, polygon, } from \"@turf/helpers\";\r\nimport { getGeom } from \"@turf/invariant\";\r\nimport { lineclip, polygonclip } from \"./lib/lineclip.js\";\r\n/**\r\n * Takes a {@link Feature} and a bbox and clips the feature to the bbox using\r\n * [lineclip](https://github.com/mapbox/lineclip).\r\n * May result in degenerate edges when clipping Polygons.\r\n *\r\n * @name bboxClip\r\n * @param {Feature<LineString|MultiLineString|Polygon|MultiPolygon>} feature feature to clip to the bbox\r\n * @param {BBox} bbox extent in [minX, minY, maxX, maxY] order\r\n * @returns {Feature<LineString|MultiLineString|Polygon|MultiPolygon>} clipped Feature\r\n * @example\r\n * var bbox = [0, 0, 10, 10];\r\n * var poly = turf.polygon([[[2, 2], [8, 4], [12, 8], [3, 7], [2, 2]]]);\r\n *\r\n * var clipped = turf.bboxClip(poly, bbox);\r\n *\r\n * //addToMap\r\n * var addToMap = [bbox, poly, clipped]\r\n */\r\nexport default function bboxClip(feature, bbox) {\r\n    var geom = getGeom(feature);\r\n    var type = geom.type;\r\n    var properties = feature.type === \"Feature\" ? feature.properties : {};\r\n    var coords = geom.coordinates;\r\n    switch (type) {\r\n        case \"LineString\":\r\n        case \"MultiLineString\": {\r\n            var lines_1 = [];\r\n            if (type === \"LineString\") {\r\n                coords = [coords];\r\n            }\r\n            coords.forEach(function (line) {\r\n                lineclip(line, bbox, lines_1);\r\n            });\r\n            if (lines_1.length === 1) {\r\n                return lineString(lines_1[0], properties);\r\n            }\r\n            return multiLineString(lines_1, properties);\r\n        }\r\n        case \"Polygon\":\r\n            return polygon(clipPolygon(coords, bbox), properties);\r\n        case \"MultiPolygon\":\r\n            return multiPolygon(coords.map(function (poly) {\r\n                return clipPolygon(poly, bbox);\r\n            }), properties);\r\n        default:\r\n            throw new Error(\"geometry \" + type + \" not supported\");\r\n    }\r\n}\r\nfunction clipPolygon(rings, bbox) {\r\n    var outRings = [];\r\n    for (var _i = 0, rings_1 = rings; _i < rings_1.length; _i++) {\r\n        var ring = rings_1[_i];\r\n        var clipped = polygonclip(ring, bbox);\r\n        if (clipped.length > 0) {\r\n            if (clipped[0][0] !== clipped[clipped.length - 1][0] ||\r\n                clipped[0][1] !== clipped[clipped.length - 1][1]) {\r\n                clipped.push(clipped[0]);\r\n            }\r\n            if (clipped.length >= 4) {\r\n                outRings.push(clipped);\r\n            }\r\n        }\r\n    }\r\n    return outRings;\r\n}\r\n"],"mappings":"AAAA,SAASA,UAAT,EAAqBC,eAArB,EAAsCC,YAAtC,EAAoDC,OAApD,QAAoE,eAApE;AACA,SAASC,OAAT,QAAwB,iBAAxB;AACA,SAASC,QAAT,EAAmBC,WAAnB,QAAsC,mBAAtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,eAAe,SAASC,QAAT,CAAkBC,OAAlB,EAA2BC,IAA3B,EAAiC;EAC5C,IAAIC,IAAI,GAAGN,OAAO,CAACI,OAAD,CAAlB;EACA,IAAIG,IAAI,GAAGD,IAAI,CAACC,IAAhB;EACA,IAAIC,UAAU,GAAGJ,OAAO,CAACG,IAAR,KAAiB,SAAjB,GAA6BH,OAAO,CAACI,UAArC,GAAkD,EAAnE;EACA,IAAIC,MAAM,GAAGH,IAAI,CAACI,WAAlB;;EACA,QAAQH,IAAR;IACI,KAAK,YAAL;IACA,KAAK,iBAAL;MAAwB;QACpB,IAAII,OAAO,GAAG,EAAd;;QACA,IAAIJ,IAAI,KAAK,YAAb,EAA2B;UACvBE,MAAM,GAAG,CAACA,MAAD,CAAT;QACH;;QACDA,MAAM,CAACG,OAAP,CAAe,UAAUC,IAAV,EAAgB;UAC3BZ,QAAQ,CAACY,IAAD,EAAOR,IAAP,EAAaM,OAAb,CAAR;QACH,CAFD;;QAGA,IAAIA,OAAO,CAACG,MAAR,KAAmB,CAAvB,EAA0B;UACtB,OAAOlB,UAAU,CAACe,OAAO,CAAC,CAAD,CAAR,EAAaH,UAAb,CAAjB;QACH;;QACD,OAAOX,eAAe,CAACc,OAAD,EAAUH,UAAV,CAAtB;MACH;;IACD,KAAK,SAAL;MACI,OAAOT,OAAO,CAACgB,WAAW,CAACN,MAAD,EAASJ,IAAT,CAAZ,EAA4BG,UAA5B,CAAd;;IACJ,KAAK,cAAL;MACI,OAAOV,YAAY,CAACW,MAAM,CAACO,GAAP,CAAW,UAAUC,IAAV,EAAgB;QAC3C,OAAOF,WAAW,CAACE,IAAD,EAAOZ,IAAP,CAAlB;MACH,CAFmB,CAAD,EAEfG,UAFe,CAAnB;;IAGJ;MACI,MAAM,IAAIU,KAAJ,CAAU,cAAcX,IAAd,GAAqB,gBAA/B,CAAN;EAtBR;AAwBH;;AACD,SAASQ,WAAT,CAAqBI,KAArB,EAA4Bd,IAA5B,EAAkC;EAC9B,IAAIe,QAAQ,GAAG,EAAf;;EACA,KAAK,IAAIC,EAAE,GAAG,CAAT,EAAYC,OAAO,GAAGH,KAA3B,EAAkCE,EAAE,GAAGC,OAAO,CAACR,MAA/C,EAAuDO,EAAE,EAAzD,EAA6D;IACzD,IAAIE,IAAI,GAAGD,OAAO,CAACD,EAAD,CAAlB;IACA,IAAIG,OAAO,GAAGtB,WAAW,CAACqB,IAAD,EAAOlB,IAAP,CAAzB;;IACA,IAAImB,OAAO,CAACV,MAAR,GAAiB,CAArB,EAAwB;MACpB,IAAIU,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,MAAkBA,OAAO,CAACA,OAAO,CAACV,MAAR,GAAiB,CAAlB,CAAP,CAA4B,CAA5B,CAAlB,IACAU,OAAO,CAAC,CAAD,CAAP,CAAW,CAAX,MAAkBA,OAAO,CAACA,OAAO,CAACV,MAAR,GAAiB,CAAlB,CAAP,CAA4B,CAA5B,CADtB,EACsD;QAClDU,OAAO,CAACC,IAAR,CAAaD,OAAO,CAAC,CAAD,CAApB;MACH;;MACD,IAAIA,OAAO,CAACV,MAAR,IAAkB,CAAtB,EAAyB;QACrBM,QAAQ,CAACK,IAAT,CAAcD,OAAd;MACH;IACJ;EACJ;;EACD,OAAOJ,QAAP;AACH"},"metadata":{},"sourceType":"module"}